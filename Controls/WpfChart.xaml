<UserControl
	x:Class="ModernThemables.Controls.WpfChart"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:local="clr-namespace:ModernThemables.Controls"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	x:Name="root"
	d:DesignHeight="450"
	d:DesignWidth="800"
	mc:Ignorable="d">
	<Grid SizeChanged="Grid_SizeChanged">
		<Grid.RowDefinitions>
			<RowDefinition Height="*" />
			<RowDefinition Height="Auto" MinHeight="5" x:Name="XAxisRow" />
		</Grid.RowDefinitions>
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="Auto" MinWidth="5" x:Name="YAxisColumn" />
			<ColumnDefinition Width="*" />
		</Grid.ColumnDefinitions>
		<ItemsControl
			Width="25"
			Margin="0,0,5,0"
			ItemsSource="{Binding YAxisLabels, ElementName=root}">
			<ItemsControl.ItemsPanel>
				<ItemsPanelTemplate>
					<StackPanel VerticalAlignment="Bottom" />
				</ItemsPanelTemplate>
			</ItemsControl.ItemsPanel>
			<ItemsControl.ItemTemplate>
				<DataTemplate>
					<Grid Height="{Binding Height}">
						<TextBlock
							Height="12"
							Margin="0,-6,0,0"
							VerticalAlignment="Top"
							FontSize="11"
							FontWeight="Medium"
							Foreground="{DynamicResource StatusTextBrush}"
							Text="{Binding Value}"
							TextAlignment="Right" />
					</Grid>
				</DataTemplate>
			</ItemsControl.ItemTemplate>
		</ItemsControl>
		<ItemsControl
			Grid.Row="1"
			Grid.Column="1"
			Height="16"
			Margin="0,3,0,2"
			ItemsSource="{Binding XAxisLabels, ElementName=root}">
			<ItemsControl.ItemsPanel>
				<ItemsPanelTemplate>
					<WrapPanel />
				</ItemsPanelTemplate>
			</ItemsControl.ItemsPanel>
			<ItemsControl.ItemTemplate>
				<DataTemplate>
					<TextBlock
						Width="{Binding XAxisLabelsWidth, ElementName=root}"
						FontSize="11"
						FontWeight="Medium"
						Foreground="{DynamicResource StatusTextBrush}"
						Text="{Binding}"
						TextAlignment="Center" />
				</DataTemplate>
			</ItemsControl.ItemTemplate>
		</ItemsControl>
		<Grid x:Name="Grid" Grid.Column="1">
			<ItemsControl ItemsSource="{Binding YAxisLabels, ElementName=root}">
				<ItemsControl.ItemsPanel>
					<ItemsPanelTemplate>
						<StackPanel VerticalAlignment="Bottom" />
					</ItemsPanelTemplate>
				</ItemsControl.ItemsPanel>
				<ItemsControl.ItemTemplate>
					<DataTemplate>
						<Border
							Height="{Binding Height}"
							BorderBrush="{DynamicResource StatusTextLightBrush}"
							BorderThickness="0,1,0,0" />
					</DataTemplate>
				</ItemsControl.ItemTemplate>
			</ItemsControl>
			<ItemsControl ItemsSource="{Binding ConvertedSeries, ElementName=root}">
				<ItemsControl.ItemTemplate>
					<DataTemplate>
						<Path
							Data="{Binding PathData}"
							IsHitTestVisible="False"
							Stroke="LimeGreen"
							StrokeLineJoin="Bevel"
							StrokeThickness="1.5" />
					</DataTemplate>
				</ItemsControl.ItemTemplate>
			</ItemsControl>
			<Line
				x:Name="XCrosshair"
				Margin="0,50,0,0"
				Stroke="{DynamicResource StatusTextBrush}"
				StrokeDashArray="8,8"
				StrokeThickness="1"
				Visibility="{Binding ElementName=Grid, Path=IsMouseOver, Converter={StaticResource VisibleIfTrueConverter}}"
				X2="{Binding ActualWidth, ElementName=Grid}" />
			<Line
				x:Name="YCrosshair"
				Margin="50,0,0,0"
				Stroke="{DynamicResource StatusTextBrush}"
				StrokeDashArray="8,8"
				StrokeThickness="1"
				Visibility="{Binding ElementName=Grid, Path=IsMouseOver, Converter={StaticResource VisibleIfTrueConverter}}"
				Y2="{Binding ActualHeight, ElementName=Grid}" />
			<Line
				x:Name="XPointHighlighter"
				Margin="0,100,0,0"
				Stroke="{DynamicResource StatusTextBrush}"
				StrokeThickness="1"
				Visibility="{Binding ElementName=Grid, Path=IsMouseOver, Converter={StaticResource VisibleIfTrueConverter}}"
				X2="{Binding ActualWidth, ElementName=Grid}" />
			<Grid
				Background="{DynamicResource MainBackgroundBrush}"
				MouseMove="DrawableChartSectionBorder_MouseMove"
				Opacity="0.001" />
			<Border
				x:Name="DrawableChartSectionBorder"
				BorderBrush="{DynamicResource StatusTextBrush}"
				BorderThickness="1,0,0,1" />
			<Border
				VerticalAlignment="Bottom"
				HorizontalAlignment="Left"
				IsHitTestVisible="False"
				Visibility="{Binding ElementName=Grid, Path=IsMouseOver, Converter={StaticResource VisibleIfTrueConverter}}"
				Margin="0,0,0,-20"
				CornerRadius="5"
				Width="100"
				Height="20"
				x:Name="XCrosshairValueDisplay"
				Background="{DynamicResource MenuBrush}" />
			<Border
				HorizontalAlignment="Left"
				VerticalAlignment="Top"
				IsHitTestVisible="False"
				Visibility="{Binding ElementName=Grid, Path=IsMouseOver, Converter={StaticResource VisibleIfTrueConverter}}"
				Margin="-35,0,0,0"
				CornerRadius="5"
				Width="100"
				Height="20"
				x:Name="YCrosshairValueDisplay"
				Background="{DynamicResource MenuBrush}" />
		</Grid>
	</Grid>
</UserControl>